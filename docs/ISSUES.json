[
  {
    "id": "TASK-002",
    "type": "feature",
    "epic": "Features",
    "title": "New progress file feature improvement",
    "description": "Implement improvements for the new progress file feature to enhance tracking and visibility of task progress.",
    "acceptance_criteria": [
      "Progress file structure is defined",
      "Progress tracking mechanism is implemented",
      "Progress updates are properly persisted",
      "Progress can be queried and displayed"
    ],
    "passes": false
  },
  {
    "id": "BUG-002",
    "type": "bug",
    "epic": "Code Quality",
    "title": "Add validation for empty strip_prefix parameter",
    "description": "The _get_output_stem function at sync_commands.py:47-53 doesn't validate the strip_prefix parameter. If an empty string is passed, the condition 'if strip_prefix and source_stem.startswith(strip_prefix)' is always False, wasting CPU cycles. Should add validation at the start of the function to check if strip_prefix is an empty string and log a warning.",
    "acceptance_criteria": [
      "strip_prefix is validated to be non-empty string when provided",
      "Appropriate warning or error is logged for empty prefix",
      "Documentation clarifies expected behavior"
    ],
    "passes": true
  },
  {
    "id": "BUG-004",
    "type": "bug",
    "epic": "Code Quality",
    "title": "Add validation for duplicate filenames after prefix stripping",
    "description": "The extract_prompts_to_md and extract_prompts_to_md_with_description functions don't check for duplicate output filenames. If two source files have the same name after stripping the prefix (e.g., claude_test.toml and test.toml would both become test.md), the second one will overwrite the first, causing data loss. Need to track created_md_filenames in a set and check for duplicates before writing files.",
    "acceptance_criteria": [
      "Duplicate output filenames are detected before writing",
      "Warning is logged when duplicates are found",
      "User is informed about potential data loss",
      "Option to skip or rename duplicates is considered"
    ],
    "passes": false
  },
  {
    "id": "BUG-006",
    "type": "bug",
    "epic": "Code Quality",
    "title": "Standardize error message formatting",
    "description": "Error messages in sync_commands.py are inconsistent. Examples: _process_source_file uses 'f\"  Error processing {source_file.name} for {tool_name}: {e}\"' (includes tool name), but safe_remove uses 'f\"  Error removing {file_path.name}: {e}\"' (no context). Standardize to include relevant context (file name, operation, tool) in all error messages.",
    "acceptance_criteria": [
      "All error messages follow consistent format",
      "Error messages include relevant context (file name, operation, tool)",
      "Error messages are helpful for debugging",
      "All error logging uses same pattern"
    ],
    "passes": false
  },
  {
    "id": "TASK-003",
    "type": "task",
    "epic": "Testing",
    "title": "Add unit tests for sync_commands.py",
    "description": "Create comprehensive unit tests for sync_commands.py covering prefix stripping logic, file filtering, cleanup logic, and edge cases.",
    "acceptance_criteria": [
      "Test suite created with pytest or unittest",
      "Tests cover prefix stripping with various prefixes",
      "Tests cover file filtering (claude_ vs shared)",
      "Tests cover cleanup logic for stale files",
      "Tests cover edge cases (empty prefix, files named exactly claude_.toml, duplicate filenames)",
      "All tests pass"
    ],
    "passes": false
  },
  {
    "id": "TASK-006",
    "type": "task",
    "epic": "Features",
    "title": "Add verbose and dry-run modes to sync_commands.py",
    "description": "Add --verbose flag for detailed logging and --dry-run flag to preview changes without actually making them, improving usability and safety.",
    "acceptance_criteria": [
      "--verbose flag shows detailed operations",
      "--dry-run flag shows what would be changed without making changes",
      "Help documentation explains both flags",
      "Both flags work independently and together"
    ],
    "passes": false
  },
  {
    "id": "TASK-007",
    "type": "task",
    "epic": "Code Quality",
    "title": "Add type hints to sync_commands.py",
    "description": "Add type hints to function signatures and variable declarations in sync_commands.py to improve code readability and enable static type checking.",
    "acceptance_criteria": [
      "All function signatures have type hints",
      "Complex variables have type hints",
      "Code passes mypy or similar type checker",
      "Type hints are accurate and helpful"
    ],
    "passes": false
  }
]
